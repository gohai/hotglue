$(document).ready(function(){var a;a=$('<img src="'+$.glue.base_url+'modules/parallax/parallax.png" alt="btn" title="make the object react to scrolling the page (affects viewing mode only)" width="32" height="32">');$(a).bind("click",function(c){var b=$(this).data("owner");$.glue.backend({method:"glue.load_object",name:$(b).attr("id")},function(f){var e="";if(f["parallax-x"]!==undefined){e=f["parallax-x"]}var d=prompt("Enter parallax formula for x (e.g. 0.5*x)",e);if(d===null){return}e="";if(f["parallax-y"]!==undefined){e=f["parallax-y"]}var g=prompt("Enter parallax formula for y (e.g. 0.5*y)",e);if(g===null){return}if(d===""){$.glue.backend({method:"glue.object_remove_attr",name:$(b).attr("id"),attr:"parallax-x"})}else{$.glue.backend({method:"glue.update_object",name:$(b).attr("id"),"parallax-x":d})}if(g===""){$.glue.backend({method:"glue.object_remove_attr",name:$(b).attr("id"),attr:"parallax-y"})}else{$.glue.backend({method:"glue.update_object",name:$(b).attr("id"),"parallax-y":g})}})});$.glue.contextmenu.register("object","object-parallax",a,11)});
